!function(a,b){"use strict";var c=14,d=function(){var a=!0;b(".awesome-bar").length&&(this.$el=b(".awesome-bar"),this.$closeBtn=this.$el.find(".awesome-bar_close"),this.isShown=!1,this.targetOffset=0,this.impressionTracked=!1,this.DOM={$targetContent:b(".article_body")},this.checkPosition=this._throttle(b.proxy(this.checkPosition,this),500),this.closeBtnHandler=b.proxy(this.closeBtnHandler,this),b.cookie&&b.cookie("awesomeBarDisabled")&&(a=!1),a&&this.init())};d.prototype={init:function(){this.$el.addClass("js"),this.bindEvents(),this.setTargetOffset()},bindEvents:function(){var c=this;b(a).on("scroll",this.checkPosition),this.$el.on("click","a",function(){c.trackEvent("Click")}),this.$closeBtn.on("click",this.closeBtnHandler)},unBindEvents:function(){b(a).off("scroll",this.checkPosition)},setTargetOffset:function(){this.targetOffset=this.DOM.$targetContent.offset().top},checkPosition:function(){var b=a.pageYOffset||document.documentElement.scrollTop;!this.isShown&&b>this.targetOffset?this.showAwesomeBar(!0):this.isShown&&b<this.targetOffset&&this.showAwesomeBar(!1)},showAwesomeBar:function(a){this.$el.toggleClass("show",a),a&&!this.impressionTracked&&(this.impressionTracked=!0,this.trackEvent("Impression")),this.isShown=a},trackEvent:function(a){if("undefined"!=typeof _gaq){var b=this.$el.attr("data-campaign");_gaq.push(["_trackEvent","Awesome Bar",b,a])}},closeBtnHandler:function(){this.showAwesomeBar(!1),this.unBindEvents(),b.cookie&&b.cookie("awesomeBarDisabled","truthy",{path:"/",expires:c})},_throttle:function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}}};var e=0,f=function(){b&&b.cookie||e>10?a.AwesomeBar=new d:(e++,setTimeout(f,500))};f()}(window,"undefined"!=typeof jQuery?jQuery:Zepto);var libFuncName=null;if("undefined"==typeof jQuery&&"undefined"==typeof Zepto&&"function"==typeof $)libFuncName=$;else if("function"==typeof jQuery)libFuncName=jQuery;else{if("function"!=typeof Zepto)throw new TypeError;libFuncName=Zepto}!function(a,b,c){"use strict";b.matchMedia=b.matchMedia||function(a){var b,c=a.documentElement,d=c.firstElementChild||c.firstChild,e=a.createElement("body"),f=a.createElement("div");return f.id="mq-test-1",f.style.cssText="position:absolute;top:-100em",e.style.background="none",e.appendChild(f),function(a){return f.innerHTML='&shy;<style media="'+a+'"> #mq-test-1 { width: 42px; }</style>',c.insertBefore(e,d),b=42===f.offsetWidth,c.removeChild(e),{matches:b,media:a}}}(c),Array.prototype.filter||(Array.prototype.filter=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"==typeof a){for(var d=[],e=arguments[1],f=0;c>f;f++)if(f in b){var g=b[f];a&&a.call(e,g,f,b)&&d.push(g)}return d}}),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),a.fn.stop=a.fn.stop||function(){return this},b.Foundation={name:"Foundation",version:"4.2.2",cache:{},init:function(b,c,d,e,f,g){var h,i=[b,d,e,f],j=[],g=g||!1;if(g&&(this.nc=g),this.rtl=/rtl/i.test(a("html").attr("dir")),this.scope=b||this.scope,c&&"string"==typeof c&&!/reflow/i.test(c)){if(/off/i.test(c))return this.off();if(h=c.split(" "),h.length>0)for(var k=h.length-1;k>=0;k--)j.push(this.init_lib(h[k],i))}else{/reflow/i.test(c)&&(i[1]="reflow");for(var l in this.libs)j.push(this.init_lib(l,i))}return"function"==typeof c&&i.unshift(c),this.response_obj(j,i)},response_obj:function(a,b){for(var c=0,d=b.length;d>c;c++)if("function"==typeof b[c])return b[c]({errors:a.filter(function(a){return"string"==typeof a?a:void 0})});return a},init_lib:function(a,b){return this.trap(function(){return this.libs.hasOwnProperty(a)?(this.patch(this.libs[a]),this.libs[a].init.apply(this.libs[a],b)):function(){}}.bind(this),a)},trap:function(a,b){if(!this.nc)try{return a()}catch(c){return this.error({name:b,message:"could not be initialized",more:c.name+" "+c.message})}return a()},patch:function(a){this.fix_outer(a),a.scope=this.scope,a.rtl=this.rtl},inherit:function(a,b){for(var c=b.split(" "),d=c.length-1;d>=0;d--)this.lib_methods.hasOwnProperty(c[d])&&(this.libs[a.name][c[d]]=this.lib_methods[c[d]])},random_str:function(a){var b="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");a||(a=Math.floor(Math.random()*b.length));for(var c="",d=0;a>d;d++)c+=b[Math.floor(Math.random()*b.length)];return c},libs:{},lib_methods:{set_data:function(a,b){var c=[this.name,+new Date,Foundation.random_str(5)].join("-");return Foundation.cache[c]=b,a.attr("data-"+this.name+"-id",c),b},get_data:function(a){return Foundation.cache[a.attr("data-"+this.name+"-id")]},remove_data:function(b){b?(delete Foundation.cache[b.attr("data-"+this.name+"-id")],b.attr("data-"+this.name+"-id","")):a("[data-"+this.name+"-id]").each(function(){delete Foundation.cache[a(this).attr("data-"+this.name+"-id")],a(this).attr("data-"+this.name+"-id","")})},throttle:function(a,b){var c=null;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){a.apply(d,e)},b)}},data_options:function(b){function c(a){return!isNaN(a-0)&&null!==a&&""!==a&&a!==!1&&a!==!0}function d(b){return"string"==typeof b?a.trim(b):b}var e,f,g={},h=(b.attr("data-options")||":").split(";"),i=h.length;for(e=i-1;e>=0;e--)f=h[e].split(":"),/true/i.test(f[1])&&(f[1]=!0),/false/i.test(f[1])&&(f[1]=!1),c(f[1])&&(f[1]=parseInt(f[1],10)),2===f.length&&f[0].length>0&&(g[d(f[0])]=d(f[1]));return g},delay:function(a,b){return setTimeout(a,b)},scrollTo:function(c,d,e){if(!(0>e)){var f=d-a(b).scrollTop(),g=f/e*10;this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(g,10))||(b.scrollTo(0,a(b).scrollTop()+g),this.scrollTo(c,d,e-10))}.bind(this),10)}},scrollLeft:function(a){return a.length?"scrollLeft"in a[0]?a[0].scrollLeft:a[0].pageXOffset:void 0},empty:function(a){if(a.length&&a.length>0)return!1;if(a.length&&0===a.length)return!0;for(var b in a)if(hasOwnProperty.call(a,b))return!1;return!0}},fix_outer:function(a){a.outerHeight=function(a,b){return"function"==typeof Zepto?a.height():"undefined"!=typeof b?a.outerHeight(b):a.outerHeight()},a.outerWidth=function(a){return"function"==typeof Zepto?a.width():"undefined"!=typeof bool?a.outerWidth(bool):a.outerWidth()}},error:function(a){return a.name+" "+a.message+"; "+a.more},off:function(){return a(this.scope).off(".fndtn"),a(b).off(".fndtn"),!0},zj:function(){return"undefined"!=typeof Zepto?Zepto:jQuery}()},a.fn.foundation=function(){var a=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(a)),this})}}(libFuncName,this,this.document),function(a,b,c){"use strict";Foundation.libs.topbar={name:"topbar",version:"4.2.2",settings:{index:0,stickyClass:"sticky",custom_back_text:!0,back_text:"Back",is_hover:!0,scrolltop:!0,init:!1},init:function(c,d,e){Foundation.inherit(this,"data_options");var f=this;return"object"==typeof d?a.extend(!0,this.settings,d):"undefined"!=typeof e&&a.extend(!0,this.settings,e),"string"!=typeof d?(a(".top-bar, [data-topbar]").each(function(){a.extend(!0,f.settings,f.data_options(a(this))),f.settings.$w=a(b),f.settings.$topbar=a(this),f.settings.$section=f.settings.$topbar.find("section"),f.settings.$titlebar=f.settings.$topbar.children("ul").first(),f.settings.$topbar.data("index",0);var c=a("<div class='top-bar-js-breakpoint'/>").insertAfter(f.settings.$topbar);f.settings.breakPoint=c.width(),c.remove(),f.assemble(),f.settings.$topbar.parent().hasClass("fixed")&&a("body").css("padding-top",f.outerHeight(f.settings.$topbar))}),f.settings.init||this.events(),this.settings.init):this[d].call(this,e)},events:function(){var c=this,d=this.outerHeight(a(".top-bar, [data-topbar]"));a(this.scope).off(".fndtn.topbar").on("click.fndtn.topbar",".top-bar .toggle-topbar, [data-topbar] .toggle-topbar",function(e){var f=a(this).closest(".top-bar, [data-topbar]"),g=f.find("section, .section");f.children("ul").first(),e.preventDefault(),c.breakpoint()&&(c.rtl?(g.css({right:"0%"}),g.find(">.name").css({right:"100%"})):(g.css({left:"0%"}),g.find(">.name").css({left:"100%"})),g.find("li.moved").removeClass("moved"),f.data("index",0),f.toggleClass("expanded").css("height","")),f.hasClass("expanded")?f.parent().hasClass("fixed")&&(f.parent().removeClass("fixed"),f.addClass("fixed"),a("body").css("padding-top","0"),c.settings.scrolltop&&b.scrollTo(0,0)):f.hasClass("fixed")&&(f.parent().addClass("fixed"),f.removeClass("fixed"),a("body").css("padding-top",d))}).on("mouseenter mouseleave",".top-bar li",function(b){c.settings.is_hover&&(/enter|over/i.test(b.type)?a(this).addClass("hover"):a(this).removeClass("hover"))}).on("click.fndtn.topbar",".top-bar li.has-dropdown",function(b){if(!c.breakpoint()){var d=a(this),e=a(b.target),f=d.closest("[data-topbar], .top-bar");f.data("topbar"),(!c.settings.is_hover||Modernizr.touch)&&(b.stopImmediatePropagation(),"A"===e[0].nodeName&&e.parent().hasClass("has-dropdown")&&b.preventDefault(),d.hasClass("hover")?d.removeClass("hover").find("li").removeClass("hover"):d.addClass("hover"))}}).on("click.fndtn.topbar",".top-bar .has-dropdown>a, [data-topbar] .has-dropdown>a",function(b){if(c.breakpoint()){b.preventDefault();var d=a(this),e=d.closest(".top-bar, [data-topbar]"),f=e.find("section, .section"),g=e.children("ul").first(),h=(d.next(".dropdown").outerHeight(),d.closest("li"));e.data("index",e.data("index")+1),h.addClass("moved"),c.rtl?(f.css({right:-(100*e.data("index"))+"%"}),f.find(">.name").css({right:100*e.data("index")+"%"})):(f.css({left:-(100*e.data("index"))+"%"}),f.find(">.name").css({left:100*e.data("index")+"%"})),e.css("height",c.outerHeight(d.siblings("ul"),!0)+c.outerHeight(g,!0))}}),a(b).on("resize.fndtn.topbar",function(){c.breakpoint()||a(".top-bar, [data-topbar]").css("height","").removeClass("expanded").find("li").removeClass("hover")}.bind(this)),a("body").on("click.fndtn.topbar",function(b){var c=a(b.target).closest("[data-topbar], .top-bar");c.length>0||a(".top-bar li, [data-topbar] li").removeClass("hover")}),a(this.scope).on("click.fndtn",".top-bar .has-dropdown .back, [data-topbar] .has-dropdown .back",function(b){b.preventDefault();var d=a(this),e=d.closest(".top-bar, [data-topbar]"),f=e.children("ul").first(),g=e.find("section, .section"),h=d.closest("li.moved"),i=h.parent();e.data("index",e.data("index")-1),c.rtl?(g.css({right:-(100*e.data("index"))+"%"}),g.find(">.name").css({right:100*e.data("index")+"%"})):(g.css({left:-(100*e.data("index"))+"%"}),g.find(">.name").css({left:100*e.data("index")+"%"})),0===e.data("index")?e.css("height",""):e.css("height",c.outerHeight(i,!0)+c.outerHeight(f,!0)),setTimeout(function(){h.removeClass("moved")},300)})},breakpoint:function(){return a(c).width()<=this.settings.breakPoint||a("html").hasClass("lt-ie9")},assemble:function(){var b=this;this.settings.$section.detach(),this.settings.$section.find(".has-dropdown>a").each(function(){var c=a(this),d=c.siblings(".dropdown"),e=c.attr("href");if(e&&e.length>1)var f=a('<li class="title back js-generated"><h5><a href="#"></a></h5></li><li><a class="parent-link js-generated" href="'+e+'">'+c.text()+"</a></li>");else var f=a('<li class="title back js-generated"><h5><a href="#"></a></h5></li>');f.find("h5>a").html(1==b.settings.custom_back_text?"&laquo; "+b.settings.back_text:"&laquo; "+c.html()),d.prepend(f)}),this.settings.$section.appendTo(this.settings.$topbar),this.sticky()},height:function(b){var c=0,d=this;return b.find("> li").each(function(){c+=d.outerHeight(a(this),!0)}),c},sticky:function(){var c="."+this.settings.stickyClass;if(a(c).length>0){var d=a(c).length?a(c).offset().top:0,e=a(b),f=this.outerHeight(a(".top-bar"));a(b).resize(function(){clearTimeout(t_top),t_top=setTimeout(function(){d=a(c).offset().top},105)}),e.scroll(function(){e.scrollTop()>d?(a(c).addClass("fixed"),a("body").css("padding-top",f)):e.scrollTop()<=d&&(a(c).removeClass("fixed"),a("body").css("padding-top","0"))})}},off:function(){a(this.scope).off(".fndtn.topbar"),a(b).off(".fndtn.topbar")},reflow:function(){}}}(Foundation.zj,this,this.document),function(a,b,c,d){"use strict";Foundation.libs.forms={name:"forms",version:"4.2.2",cache:{},settings:{disable_class:"no-custom",last_combo:null},init:function(b,c,d){return"object"==typeof c&&a.extend(!0,this.settings,c),"string"!=typeof c?(this.settings.init||this.events(),this.assemble(),this.settings.init):this[c].call(this,d)},assemble:function(){a('form.custom input[type="radio"]',a(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).each(this.append_custom_markup),a('form.custom input[type="checkbox"]',a(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).each(this.append_custom_markup),a("form.custom select",a(this.scope)).not('[data-customforms="disabled"]').not("."+this.settings.disable_class).not("[multiple=multiple]").each(this.append_custom_select)},events:function(){var d=this;a(this.scope).on("click.fndtn.forms","form.custom span.custom.checkbox",function(b){b.preventDefault(),b.stopPropagation(),d.toggle_checkbox(a(this))}).on("click.fndtn.forms","form.custom span.custom.radio",function(b){b.preventDefault(),b.stopPropagation(),d.toggle_radio(a(this))}).on("change.fndtn.forms","form.custom select",function(b,c){a(this).is('[data-customforms="disabled"]')||d.refresh_custom_select(a(this),c)}).on("click.fndtn.forms","form.custom label",function(b){if(a(b.target).is("label")){var c,e,f=a("#"+d.escape(a(this).attr("for"))).not('[data-customforms="disabled"]');0!==f.length&&("checkbox"===f.attr("type")?(b.preventDefault(),c=a(this).find("span.custom.checkbox"),0===c.length&&(c=f.add(this).siblings("span.custom.checkbox").first()),d.toggle_checkbox(c)):"radio"===f.attr("type")&&(b.preventDefault(),e=a(this).find("span.custom.radio"),0===e.length&&(e=f.add(this).siblings("span.custom.radio").first()),d.toggle_radio(e)))}}).on("mousedown.fndtn.forms","form.custom div.custom.dropdown",function(){return!1}).on("click.fndtn.forms","form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector",function(b){var c=a(this),f=c.closest("div.custom.dropdown"),g=e(f,"select");return f.hasClass("open")||a(d.scope).trigger("click"),b.preventDefault(),!1===g.is(":disabled")?(f.toggleClass("open"),f.hasClass("open")?a(d.scope).on("click.fndtn.forms.customdropdown",function(){f.removeClass("open"),a(d.scope).off(".fndtn.forms.customdropdown")}):a(d.scope).on(".fndtn.forms.customdropdown"),!1):void 0}).on("click.fndtn.forms touchend.fndtn.forms","form.custom div.custom.dropdown li",function(b){var c=a(this),d=c.closest("div.custom.dropdown"),f=e(d,"select"),g=0;if(b.preventDefault(),b.stopPropagation(),!a(this).hasClass("disabled")){a("div.dropdown").not(d).removeClass("open");var h=c.closest("ul").find("li.selected");h.removeClass("selected"),c.addClass("selected"),d.removeClass("open").find("a.current").text(c.text()),c.closest("ul").find("li").each(function(a){c[0]===this&&(g=a)}),f[0].selectedIndex=g,f.data("prevalue",h.html()),f.trigger("change")}}),a(b).on("keydown",function(b){var d=(c.activeElement,Foundation.libs.forms),e=a(".custom.dropdown.open");if(e.length>0){if(b.preventDefault(),13===b.which&&e.find("li.selected").trigger("click"),27===b.which&&e.removeClass("open"),b.which>=65&&b.which<=90){var f=d.go_to(e,b.which),g=e.find("li.selected");f&&(g.removeClass("selected"),d.scrollTo(f.addClass("selected"),300))}if(38===b.which){var g=e.find("li.selected"),h=g.prev(":not(.disabled)");h.length>0&&(h.parent()[0].scrollTop=h.parent().scrollTop()-d.outerHeight(h),g.removeClass("selected"),h.addClass("selected"))}else if(40===b.which){var g=e.find("li.selected"),f=g.next(":not(.disabled)");f.length>0&&(f.parent()[0].scrollTop=f.parent().scrollTop()+d.outerHeight(f),g.removeClass("selected"),f.addClass("selected"))}}}),this.settings.init=!0},go_to:function(a,b){var c=a.find("li"),d=c.length;if(d>0)for(var e=0;d>e;e++){var f=c.eq(e).text().charAt(0).toLowerCase();if(f===String.fromCharCode(b).toLowerCase())return c.eq(e)}},scrollTo:function(a,b){if(!(0>b)){var c=a.parent(),d=this.outerHeight(a),e=d*a.index()-c.scrollTop(),f=e/b*10;this.scrollToTimerCache=setTimeout(function(){isNaN(parseInt(f,10))||(c[0].scrollTop=c.scrollTop()+f,this.scrollTo(a,b-10))}.bind(this),10)}},append_custom_markup:function(b,c){var d=a(c),e=d.attr("type"),f=d.next("span.custom."+e);d.parent().hasClass("switch")||d.addClass("hidden-field"),0===f.length&&(f=a('<span class="custom '+e+'"></span>').insertAfter(d)),f.toggleClass("checked",d.is(":checked")),f.toggleClass("disabled",d.is(":disabled"))},append_custom_select:function(b,c){var d,e=Foundation.libs.forms,f=a(c),g=f.next("div.custom.dropdown"),h=g.find("ul"),i=(g.find(".current"),g.find(".selector")),j=f.find("option"),k=j.filter(":selected"),l=f.attr("class")?f.attr("class").split(" "):[],m=0,n="",o=!1;if(0===g.length){var p=f.hasClass("small")?"small":f.hasClass("medium")?"medium":f.hasClass("large")?"large":f.hasClass("expand")?"expand":"";g=a('<div class="'+["custom","dropdown",p].concat(l).filter(function(a,b,c){return""===a?!1:c.indexOf(a)===b}).join(" ")+'"><a href="#" class="selector"></a><ul /></div>'),i=g.find(".selector"),h=g.find("ul"),n=j.map(function(){var b=a(this).attr("class")?a(this).attr("class"):"";return"<li class='"+b+"'>"+a(this).html()+"</li>"}).get().join(""),h.append(n),o=g.prepend('<a href="#" class="current">'+k.html()+"</a>").find(".current"),f.after(g).addClass("hidden-field")}else n=j.map(function(){return"<li>"+a(this).html()+"</li>"}).get().join(""),h.html("").append(n);if(e.assign_id(f,g),g.toggleClass("disabled",f.is(":disabled")),d=h.find("li"),e.cache[g.data("id")]=d.length,j.each(function(b){this.selected&&(d.eq(b).addClass("selected"),o&&o.html(a(this).html())),a(this).is(":disabled")&&d.eq(b).addClass("disabled")}),!g.is(".small, .medium, .large, .expand")){g.addClass("open");var e=Foundation.libs.forms;e.hidden_fix.adjust(h),m=e.outerWidth(d)>m?e.outerWidth(d):m,Foundation.libs.forms.hidden_fix.reset(),g.removeClass("open")}},assign_id:function(a,b){var c=[+new Date,Foundation.random_str(5)].join("-");a.attr("data-id",c),b.attr("data-id",c)},refresh_custom_select:function(b,c){var d=this,e=0,f=b.next(),g=b.find("option"),h=f.find("li");(h.length!==this.cache[f.data("id")]||c)&&(f.find("ul").html(""),g.each(function(){var b=a("<li>"+a(this).html()+"</li>");f.find("ul").append(b)}),g.each(function(b){this.selected&&(f.find("li").eq(b).addClass("selected"),f.find(".current").html(a(this).html())),a(this).is(":disabled")&&f.find("li").eq(b).addClass("disabled")}),f.removeAttr("style").find("ul").removeAttr("style"),f.find("li").each(function(){f.addClass("open"),d.outerWidth(a(this))>e&&(e=d.outerWidth(a(this))),f.removeClass("open")}),h=f.find("li"),this.cache[f.data("id")]=h.length)},toggle_checkbox:function(a){var b=a.prev(),c=b[0];!1===b.is(":disabled")&&(c.checked=c.checked?!1:!0,a.toggleClass("checked"),b.trigger("change"))},toggle_radio:function(a){var b=a.prev(),c=b.closest("form.custom"),d=b[0];!1===b.is(":disabled")&&(c.find('input[type="radio"][name="'+this.escape(b.attr("name"))+'"]').next().not(a).removeClass("checked"),a.hasClass("checked")||a.toggleClass("checked"),d.checked=a.hasClass("checked"),b.trigger("change"))},escape:function(a){return a?a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):""},hidden_fix:{tmp:[],hidden:null,adjust:function(b){var c=this;c.hidden=b.parents(),c.hidden=c.hidden.add(b).filter(":hidden"),c.hidden.each(function(){var b=a(this);c.tmp.push(b.attr("style")),b.css({visibility:"hidden",display:"block"})})},reset:function(){var b=this;b.hidden.each(function(c){var e=a(this),f=b.tmp[c];f===d?e.removeAttr("style"):e.attr("style",f)}),b.tmp=[],b.hidden=null}},off:function(){a(this.scope).off(".fndtn.forms")},reflow:function(){}};var e=function(b,c){for(var b=b.prev();b.length;){if(b.is(c))return b;b=b.prev()}return a()}}(Foundation.zj,this,this.document),function(a,b,c,d){"use strict";Foundation.libs.reveal={name:"reveal",version:"4.3.2",locked:!1,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:!0,closeOnEsc:!0,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:a(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(b,c,d){return Foundation.inherit(this,"data_options delay"),"object"==typeof c?a.extend(!0,this.settings,c):"undefined"!=typeof d&&a.extend(!0,this.settings,d),"string"!=typeof c?(this.events(),this.settings.init):this[c].call(this,d)},events:function(){var b=this;return a(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(c){if(c.preventDefault(),!b.locked){var d=a(this),e=d.data("reveal-ajax");if(b.locked=!0,"undefined"==typeof e)b.open.call(b,d);else{var f=e===!0?d.attr("href"):e;b.open.call(b,d,{url:f})}}}).on("click.fndtn.reveal touchend",this.close_targets(),function(c){if(c.preventDefault(),!b.locked){var d=a.extend({},b.settings,b.data_options(a(".reveal-modal.open"))),e=a(c.target)[0]===a("."+d.bgClass)[0];if(e&&!d.closeOnBackgroundClick)return;b.locked=!0,b.close.call(b,e?a(".reveal-modal.open"):a(this).closest(".reveal-modal"))}}),a(this.scope).hasClass("reveal-modal")?a(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):a(this.scope).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video),a("body").bind("keyup.reveal",function(c){var d=a(".reveal-modal.open"),e=a.extend({},b.settings,b.data_options(d));27===c.which&&e.closeOnEsc&&d.foundation("reveal","close")}),!0},open:function(b,c){if(b)if("undefined"!=typeof b.selector)var d=a("#"+b.data("reveal-id"));else{var d=a(this.scope);c=b}else var d=a(this.scope);if(!d.hasClass("open")){var e=a(".reveal-modal.open");if("undefined"==typeof d.data("css-top")&&d.data("css-top",parseInt(d.css("top"),10)).data("offset",this.cache_offset(d)),d.trigger("open"),e.length<1&&this.toggle_bg(),"undefined"!=typeof c&&c.url){var f=this,g="undefined"!=typeof c.success?c.success:null;a.extend(c,{success:function(b,c,h){a.isFunction(g)&&g(b,c,h),d.html(b),a(d).foundation("section","reflow"),f.hide(e,f.settings.css.close),f.show(d,f.settings.css.open)}}),a.ajax(c)}else this.hide(e,this.settings.css.close),this.show(d,this.settings.css.open)}},close:function(b){var b=b&&b.length?b:a(this.scope),c=a(".reveal-modal.open");c.length>0&&(this.locked=!0,b.trigger("close"),this.toggle_bg(),this.hide(c,this.settings.css.close))},close_targets:function(){var a="."+this.settings.dismissModalClass;return this.settings.closeOnBackgroundClick?a+", ."+this.settings.bgClass:a},toggle_bg:function(){0===a("."+this.settings.bgClass).length&&(this.settings.bg=a("<div />",{"class":this.settings.bgClass}).appendTo("body")),this.settings.bg.filter(":visible").length>0?this.hide(this.settings.bg):this.show(this.settings.bg)},show:function(c,d){if(d){if(0===c.parent("body").length){var e=c.wrap('<div style="display: none;" />').parent();c.on("closed.fndtn.reveal.wrapped",function(){c.detach().appendTo(e),c.unwrap().unbind("closed.fndtn.reveal.wrapped")}),c.detach().appendTo("body")}if(/pop/i.test(this.settings.animation)){d.top=a(b).scrollTop()-c.data("offset")+"px";var f={top:a(b).scrollTop()+c.data("css-top")+"px",opacity:1};return this.delay(function(){return c.css(d).animate(f,this.settings.animationSpeed,"linear",function(){this.locked=!1,c.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var f={opacity:1};return this.delay(function(){return c.css(d).animate(f,this.settings.animationSpeed,"linear",function(){this.locked=!1,c.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return c.css(d).show().css({opacity:1}).addClass("open").trigger("opened")}return/fade/i.test(this.settings.animation)?c.fadeIn(this.settings.animationSpeed/2):c.show()},hide:function(c,d){if(d){if(/pop/i.test(this.settings.animation)){var e={top:-a(b).scrollTop()-c.data("offset")+"px",opacity:0};return this.delay(function(){return c.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=!1,c.css(d).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:0};return this.delay(function(){return c.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=!1,c.css(d).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return c.hide().css(d).removeClass("open").trigger("closed")}return/fade/i.test(this.settings.animation)?c.fadeOut(this.settings.animationSpeed/2):c.hide()},close_video:function(){var b=a(this).find(".flex-video"),c=b.find("iframe");c.length>0&&(c.attr("data-src",c[0].src),c.attr("src","about:blank"),b.hide())},open_video:function(){var b=a(this).find(".flex-video"),c=b.find("iframe");if(c.length>0){var e=c.attr("data-src");if("string"==typeof e)c[0].src=c.attr("data-src");else{var f=c[0].src;c[0].src=d,c[0].src=f}b.show()}},cache_offset:function(a){var b=a.show().height()+parseInt(a.css("top"),10);return a.hide(),b},off:function(){a(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(Foundation.zj,this,this.document),function(a,b,c){"use strict";Foundation.libs.section={name:"section",version:"4.2.2",settings:{deep_linking:!1,small_breakpoint:768,one_up:!0,section_selector:"[data-section]",region_selector:"section, .section, [data-section-region]",title_selector:".title, [data-section-title]",active_region_selector:"section.active, .section.active, .active[data-section-region]",content_selector:".content, [data-section-content]",nav_selector:'[data-section="vertical-nav"], [data-section="horizontal-nav"]',callback:function(){}},init:function(b,c,d){var e=this;return Foundation.inherit(this,"throttle data_options position_right offset_right"),"object"==typeof c&&a.extend(!0,e.settings,c),"string"!=typeof c?(this.set_active_from_hash(),this.events(),!0):this[c].call(this,d)},events:function(){var d=this;a(this.scope).on("click.fndtn.section","[data-section] .title, [data-section] [data-section-title]",function(b){var c=a(this),e=c.closest(d.settings.region_selector);e.children(d.settings.content_selector).length>0&&(d.toggle_active.call(this,b,d),d.reflow())}),a(b).on("resize.fndtn.section",d.throttle(function(){d.resize.call(this)},30)).on("hashchange",function(){d.settings.toggled||(d.set_active_from_hash(),a(this).trigger("resize"))}).trigger("resize"),a(c).on("click.fndtn.section",function(b){a(b.target).closest(d.settings.title_selector).length<1&&a(d.settings.nav_selector).children(d.settings.region_selector).removeClass("active").attr("style","")})},toggle_active:function(b,c){var d=a(this),c=Foundation.libs.section,e=d.closest(c.settings.region_selector),f=d.siblings(c.settings.content_selector),g=e.parent(),h=a.extend({},c.settings,c.data_options(g)),i=g.children(c.settings.active_region_selector);if(c.settings.toggled=!0,!h.deep_linking&&f.length>0&&b.preventDefault(),e.hasClass("active"))(c.small(g)||c.is_vertical_nav(g)||c.is_horizontal_nav(g)||c.is_accordion(g))&&(i[0]!==e[0]||i[0]===e[0]&&!h.one_up)&&e.removeClass("active").attr("style","");else{var i=g.children(c.settings.active_region_selector),j=c.outerHeight(e.children(c.settings.title_selector));(c.small(g)||h.one_up)&&(c.small(g)?i.attr("style",""):i.attr("style","visibility: hidden; padding-top: "+j+"px;")),c.small(g)?e.attr("style",""):e.css("padding-top",j),e.addClass("active"),i.length>0&&i.removeClass("active").attr("style",""),c.is_vertical_tabs(g)&&(f.css("display","block"),null!==i&&i.children(c.settings.content_selector).css("display","none"))}setTimeout(function(){c.settings.toggled=!1},300),h.callback()},resize:function(){var b=Foundation.libs.section,c=a(b.settings.section_selector);c.each(function(){var c=a(this),d=c.children(b.settings.active_region_selector),e=a.extend({},b.settings,b.data_options(c));if(d.length>1)d.not(":first").removeClass("active").attr("style","");else if(d.length<1&&!b.is_vertical_nav(c)&&!b.is_horizontal_nav(c)&&!b.is_accordion(c)){var f=c.children(b.settings.region_selector).first();(e.one_up||!b.small(c))&&f.addClass("active"),b.small(c)?f.attr("style",""):f.css("padding-top",b.outerHeight(f.children(b.settings.title_selector)))}b.small(c)?d.attr("style",""):d.css("padding-top",b.outerHeight(d.children(b.settings.title_selector))),b.position_titles(c),b.is_horizontal_nav(c)&&!b.small(c)||b.is_vertical_tabs(c)&&!b.small(c)?b.position_content(c):b.position_content(c,!1)})},is_vertical_nav:function(a){return/vertical-nav/i.test(a.data("section"))},is_horizontal_nav:function(a){return/horizontal-nav/i.test(a.data("section"))},is_accordion:function(a){return/accordion/i.test(a.data("section"))},is_horizontal_tabs:function(a){return/^tabs$/i.test(a.data("section"))},is_vertical_tabs:function(a){return/vertical-tabs/i.test(a.data("section"))},set_active_from_hash:function(){var c=b.location.hash.substring(1),d=a("[data-section]"),e=this;d.each(function(){var b=a(this),d=a.extend({},e.settings,e.data_options(b));if(c.length>0&&d.deep_linking)for(var f=b.children(e.settings.region_selector).attr("style","").removeClass("active"),g=f.map(function(){var b=a(e.settings.content_selector,this),d=b.data("slug");return new RegExp(d,"i").test(c)?b:void 0}),h=g.length,i=h-1;i>=0;i--)a(g[i]).parent().addClass("active")})},position_titles:function(b,c){var d=this,e=b.children(this.settings.region_selector).map(function(){return a(this).children(d.settings.title_selector)}),f=0,g=0,d=this;"boolean"==typeof c?e.attr("style",""):e.each(function(){d.is_vertical_tabs(b)?(a(this).css("top",g),g+=d.outerHeight(a(this))):(d.rtl?a(this).css("right",f):a(this).css("left",f),f+=d.outerWidth(a(this)))})},position_content:function(b,c){var d=this,e=b.children(d.settings.region_selector),f=e.map(function(){return a(this).children(d.settings.title_selector)}),g=e.map(function(){return a(this).children(d.settings.content_selector)});if("boolean"==typeof c)g.attr("style",""),b.attr("style",""),g.css("minHeight",""),g.css("maxWidth","");else if(d.is_vertical_tabs(b)&&!d.small(b)){var h=0,i=Number.MAX_VALUE,j=null;e.each(function(){var c=a(this),e=c.children(d.settings.title_selector),f=c.children(d.settings.content_selector),g=0;j=d.outerWidth(e),g=d.outerWidth(b)-j,i>g&&(i=g),h+=d.outerHeight(e),a(this).hasClass("active")||f.css("display","none")}),e.each(function(){var b=a(this).children(d.settings.content_selector);b.css("minHeight",h),b.css("maxWidth",i-2)
})}else e.each(function(){var b=a(this),c=b.children(d.settings.title_selector),e=b.children(d.settings.content_selector);e.css(d.rtl?{right:d.position_right(c)+1,top:d.outerHeight(c)-2}:{left:c.position().left-1,top:d.outerHeight(c)-2})}),b.height("function"==typeof Zepto?this.outerHeight(a(f[0])):this.outerHeight(a(f[0]))-2)},position_right:function(b){var c=this,d=b.closest(this.settings.section_selector),e=d.children(this.settings.region_selector),f=b.closest(this.settings.section_selector).width(),g=e.map(function(){return a(this).children(c.settings.title_selector)}).length;return f-b.position().left-b.width()*(b.index()+1)-g},reflow:function(b){var b=b||c;a(this.settings.section_selector,b).trigger("resize")},small:function(b){var c=a.extend({},this.settings,this.data_options(b));return this.is_horizontal_tabs(b)?!1:b&&this.is_accordion(b)?!0:a("html").hasClass("lt-ie9")?!0:a("html").hasClass("ie8compat")?!0:a(this.scope).width()<c.small_breakpoint},off:function(){a(this.scope).off(".fndtn.section"),a(b).off(".fndtn.section"),a(c).off(".fndtn.section")}}}(Foundation.zj,this,this.document),function(a,b,c){function d(a){return a}function e(a){return decodeURIComponent(a.replace(f," "))}var f=/\+/g,g=a.cookie=function(f,h,i){if(h!==c){if(i=a.extend({},g.defaults,i),null===h&&(i.expires=-1),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setDate(k.getDate()+j)}return h=g.json?JSON.stringify(h):String(h),b.cookie=[encodeURIComponent(f),"=",g.raw?h:encodeURIComponent(h),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=g.raw?d:e,m=b.cookie.split("; "),n=0,o=m.length;o>n;n++){var p=m[n].split("=");if(l(p.shift())===f){var q=l(p.join("="));return g.json?JSON.parse(q):q}}return null};g.defaults={},a.removeCookie=function(b,c){return null!==a.cookie(b)?(a.cookie(b,null,c),!0):!1}}(Foundation.zj,document),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;if(void 0!==e[b])return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<k.length;d++)if(c=k[d]+b,void 0!==e[c])return c}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a){return"undefined"==typeof this?new h(a):void(this.opts=f(a||{},h.defaults,n))}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:j+" "+j,coordorigin:-i+" "+-i}),{width:j,height:j})}function g(a,g,h){b(l,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:i,height:d.width,left:d.radius,top:-d.width>>1,filter:h}),c("fill",{color:d.color,opacity:d.opacity}),c("stroke",{opacity:0}))))}var h,i=d.length+d.width,j=2*i,k=2*-(d.width+d.length)+"px",l=e(f(),{position:"absolute",top:k,left:k});if(d.shadow)for(h=1;h<=d.lines;h++)g(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=d.lines;h++)g(h);return b(a,l)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),k=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+k)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+k)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!j){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function s(){m++;for(var a=0;a<h.lines;a++)l=Math.max(1-(m+(h.lines-a)*r)%p*q,h.opacity),f.opacity(i,a*h.direction+n,l,h);f.timeout=f.el&&setTimeout(s,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*i+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var h,i=0,k=(f.lines-1)*(1-f.direction)/2;i<f.lines;i++)h=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,k+i*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(h,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(h,g(f.color,"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h}),function(a,b){"use strict";var c=function(a){this.$el=a,this.DOM={$showFiltersButton:this.$el.find(".js-content-filters-show"),$clearFiltersButton:this.$el.find(".js-content-filters_clear-button"),$availableFilters:this.$el.find(".content-filters_selection"),$filterCheckboxes:this.$el.find(".content-filters_options .checkbox.custom"),$currentFilters:this.$el.find(".content-filters_filtered-by"),$allCatsLabel:this.$el.find("#checkbox-all").parent(),$allCatsLabelText:this.$el.find("#checkbox-all").parent().text(),$categoryFilterButton:this.$el.find(".js-content-filters_apply-button"),$levelFilterButtons:this.$el.find(".filter-level a.button"),$orderFilterButtons:this.$el.find(".filter-order a.button")},this.TEMPLATES={$filterLabel:b("<span />",{"class":"label secondary radius"}),$filterLabelClose:b("<a />",{"class":"close",href:"#",text:"×"})},this.init()};c.prototype={init:function(){this.DOM.$availableFilters.addClass("js"),this.bindEvents(),this.checkForFilters(),this.DOM.$availableFilters.css("display",""),this.DOM.$currentFilters.css("display","")},bindEvents:function(){var a=this;this.DOM.$showFiltersButton.on("click",function(b){b.preventDefault(),a.showAvailableFilters(),a.showCurrentFilters()}),this.DOM.$currentFilters.on("click",".close",function(c){c.preventDefault(),a.removeFilter(b(this))}),this.DOM.$clearFiltersButton.on("click",function(b){b.preventDefault(),a.removeAllFilters()}),this.DOM.$availableFilters.find("input[type=checkbox]").on("change",function(c){c.preventDefault(),a.checkWhatWasSelected(b(this)),a.grabCurrentFilters()}),this.DOM.$categoryFilterButton.on("click",function(){a.trackEvent("Category Filter",a.currentFilters.join(", "))}),this.DOM.$levelFilterButtons.on("click",function(){a.trackEvent("Difficulty Level",b(this).attr("data-value"))}),this.DOM.$orderFilterButtons.on("click",function(){a.trackEvent("Order",b(this).attr("data-value"))})},checkForFilters:function(){this.hasFiltersApplied()?(this.grabCurrentFilters(),this.buildCurrentFilterBadges(),this.showCurrentFilters()):this.selectAllFilters()},showAvailableFilters:function(){this.DOM.$availableFilters.toggleClass("content-filters_selection--visible")},grabCurrentFilters:function(){var a=this;this.currentFilters=[],this.DOM.$filterCheckboxes.filter(".checked").each(function(){a.currentFilters.push(b(this).parent().text())})},buildCurrentFilterBadges:function(){for(var a=0;a<this.currentFilters.length;a++){var b=this.TEMPLATES.$filterLabel.clone(),c=this.TEMPLATES.$filterLabelClose.clone().data("filter-name",this.currentFilters[a]);b.text(this.currentFilters[a]),b.append(c),b.appendTo(this.DOM.$currentFilters.find("p"))}},showCurrentFilters:function(){this.hasFiltersApplied()&&this.DOM.$currentFilters.toggleClass("content-filters_filtered-by--visible")},hasFiltersApplied:function(){return this.DOM.$availableFilters.find("input[type=checkbox]:not(#checkbox-all)").filter(":checked").length},checkWhatWasSelected:function(a){var b=a.parent().text();b===this.DOM.$allCatsLabelText?this.selectAllFilters():this.toggleInput(this.DOM.$allCatsLabelText,!1)},selectFilter:function(){},selectAllFilters:function(){this.uncheckAllInputs(),this.toggleInput(this.DOM.$allCatsLabelText,!0)},removeFilter:function(a){var c=a.data("filter-name");this.toggleInput(c,!1),0==b("input[type=checkbox]:checked").length&&this.DOM.$allCatsLabel.trigger("click"),this.submitForm()},removeAllFilters:function(){this.DOM.$allCatsLabel.trigger("click"),this.submitForm()},toggleInput:function(a,b){this.DOM.$availableFilters.find("label:contains("+a+")").find("input[type=checkbox]").prop("checked",b),this.DOM.$availableFilters.find("label:contains("+a+")").find(".custom.checkbox").toggleClass("checked",b)},uncheckAllInputs:function(){this.DOM.$availableFilters.find("input[type=checkbox]").prop("checked",!1),this.DOM.$filterCheckboxes.removeClass("checked")},submitForm:function(){this.DOM.$availableFilters.find("form").submit()},trackEvent:function(a,b){"undefined"!=typeof _gaq&&_gaq.push(["_trackEvent","Channel Filters",a,b])}},a.ContentFilter=c}(window,"undefined"!=typeof jQuery?jQuery:Zepto),function(a,b){"use strict";var c=function(a){this.$el=a,this.isStageTwo=!1,this.DOM={$submitButton:this.$el.find(".form-actions .success"),$stageDependantField:this.$el.find(".js-stage-dependant-field"),$submitDependantField:this.$el.find(".js-submit-dependant-field"),$requiredFields:this.$el.find("[required]")},this.init()};c.prototype={init:function(){this.$el.addClass("js"),this.bindEvents()},bindEvents:function(){var a=this;this.DOM.$submitButton.on("click",function(b){a.checkComments(b)})},checkComments:function(a){this.validateStages()?this.validateStages()&&!this.validateForm()&&a.preventDefault():a.preventDefault()},validateStages:function(){return""!==this.DOM.$stageDependantField.val()?(this.setStageTwo(),!0):(this.DOM.$stageDependantField.focus(),!1)},validateForm:function(){if(!this.isStageTwo)return this.isStageTwo=!0,!1;var a=!0;return this.DOM.$requiredFields.each(function(){""===b(this).val()&&(b(this).addClass("error"),a=!1)}),a?!0:!1},setStageTwo:function(){this.$el.addClass("stage-two")}},a.TwoStageForm=c}(window,"undefined"!=typeof jQuery?jQuery:Zepto),function(a,b){"use strict";var c=function(a){this.$el=a,this.DOM={$featureImage:this.$el.find("figure img"),$galleryImages:this.$el.find(".product_gallery_list-item")},this.init()};c.prototype={init:function(){this.$el.addClass("js"),this.bindEvents()},bindEvents:function(){var a=this;this.DOM.$galleryImages.on("click",function(c){c.preventDefault(),a.swapImage(b(this))})},swapImage:function(a){var b=a.find("img").attr("src");this.DOM.$featureImage.attr("src",b)}},a.ImageSwapper=c}(window,"undefined"!=typeof jQuery?jQuery:Zepto);var senseipress=senseipress||{};!function(a){a(document).foundation(),a(document).ready(function(){}),senseipress.timerNav=null,senseipress.homeNavRePaint=function(){window.clearTimeout(senseipress.timerNav),senseipress.timerNav=window.setTimeout(function(){a(".channel-nav_link").css("z-index",1)},84)},senseipress.orientationSwitch=function(){var b="onorientationchange"in window?"orientationchange":"resize";a(window).on(b,function(){a(".channel-nav").length&&senseipress.homeNavRePaint()})}}("undefined"!=typeof jQuery?jQuery:Zepto),function(a){"use strict";Date.now=Date.now||function(){return+new Date},a.ias=function(b){function c(){var b;if(u.onChangePage(function(a,b,c){v&&v.setPage(a,c),s.onPageChange.call(this,a,c,b)}),s.triggerPageThreshold>0)d();else if(a(s.next).attr("href")){var c=t.getCurrentScrollOffset(s.scrollContainer);q(function(){i(c)})}return v&&v.havePage()&&(f(),b=v.getPage(),t.forceScrollTop(function(){var c;b>1?(k(b),c=h(!0),a("html, body").scrollTop(c)):d()})),w}function d(){g(),s.scrollContainer.scroll(e)}function e(){var a,b;a=t.getCurrentScrollOffset(s.scrollContainer),b=h(),a>=b&&(l()>=s.triggerPageThreshold?(f(),q(function(){i(a)})):i(a))}function f(){s.scrollContainer.unbind("scroll",e)}function g(){a(s.pagination).hide()}function h(b){var c,d;return c=a(s.container).find(s.item).last(),0===c.size()?0:(d=c.offset().top+c.height(),b||(d+=s.thresholdMargin),d)}function i(b,c){var e;return(e=a(s.next).attr("href"))?void(s.beforePageChange&&a.isFunction(s.beforePageChange)&&s.beforePageChange(b,e)===!1||(u.pushPages(b,e),f(),n(),j(e,function(b,h){var i,j=s.onLoadItems.call(this,h);j!==!1&&(a(h).hide(),i=a(s.container).find(s.item).last(),i.after(h),a(h).fadeIn()),e=a(s.next,b).attr("href"),a(s.pagination).replaceWith(a(s.pagination,b)),o(),g(),e?d():f(),s.onRenderComplete.call(this,h),c&&c.call(this)}))):(s.noneleft&&a(s.container).find(s.item).last().after(s.noneleft),f())}function j(b,c,d){var e,f,g,h=[],i=Date.now();d=d||s.loaderDelay,a.get(b,null,function(b){e=a(s.container,b).eq(0),0===e.length&&(e=a(b).filter(s.container).eq(0)),e&&e.find(s.item).each(function(){h.push(this)}),c&&(g=this,f=Date.now()-i,d>f?setTimeout(function(){c.call(g,b,h)},d-f):c.call(g,b,h))},"html")}function k(b){var c=h(!0);c>0&&i(c,function(){f(),u.getCurPageNum(c)+1<b?(k(b),a("html,body").animate({scrollTop:c},400,"swing")):(a("html,body").animate({scrollTop:c},1e3,"swing"),d())})}function l(){var a=t.getCurrentScrollOffset(s.scrollContainer);return u.getCurPageNum(a)}function m(){var b=a(".ias_loader");return 0===b.size()&&(b=a('<div class="ias_loader">'+s.loader+"</div>"),b.hide()),b}function n(){var b,c=m();s.customLoaderProc!==!1?s.customLoaderProc(c):(b=a(s.container).find(s.item).last(),b.after(c),c.fadeIn())}function o(){var a=m();a.remove()}function p(b){var c=a(".ias_trigger");return 0===c.size()&&(c=a('<div class="ias_trigger"><a href="#">'+s.trigger+"</a></div>"),c.hide()),a("a",c).unbind("click").bind("click",function(){return r(),b.call(),!1}),c}function q(b){var c,d=p(b);s.customTriggerProc!==!1?s.customTriggerProc(d):(c=a(s.container).find(s.item).last(),c.after(d),d.fadeIn())}function r(){var a=p();a.remove()}var s=a.extend({},a.ias.defaults,b),t=new a.ias.util,u=new a.ias.paging(s.scrollContainer),v=s.history?new a.ias.history:!1,w=this;c()},a.ias.defaults={container:"#container",scrollContainer:a(window),item:".item",pagination:"#pagination",next:".next",noneleft:!1,loader:'<img src="images/loader.gif"/>',loaderDelay:600,triggerPageThreshold:3,trigger:"Load more items",thresholdMargin:0,history:!0,onPageChange:function(){},beforePageChange:function(){},onLoadItems:function(){},onRenderComplete:function(){},customLoaderProc:!1,customTriggerProc:!1},a.ias.util=function(){function b(){a(window).load(function(){c=!0})}var c=!1,d=!1,e=this;b(),this.forceScrollTop=function(b){a("html,body").scrollTop(0),d||(c?(b.call(),d=!0):setTimeout(function(){e.forceScrollTop(b)},1))},this.getCurrentScrollOffset=function(a){var b,c;return b=a.get(0)===window?a.scrollTop():a.offset().top,c=a.height(),b+c}},a.ias.paging=function(){function b(){a(window).scroll(c)}function c(){var b,c,f,j,k;b=i.getCurrentScrollOffset(a(window)),c=d(b),f=e(b),h!==c&&(j=f[0],k=f[1],g.call({},c,j,k)),h=c}function d(a){for(var b=f.length-1;b>0;b--)if(a>f[b][0])return b+1;return 1}function e(a){for(var b=f.length-1;b>=0;b--)if(a>f[b][0])return f[b];return null}var f=[[0,document.location.toString()]],g=function(){},h=1,i=new a.ias.util;b(),this.getCurPageNum=function(b){return b=b||i.getCurrentScrollOffset(a(window)),d(b)},this.onChangePage=function(a){g=a},this.pushPages=function(a,b){f.push([a,b])}},a.ias.history=function(){function a(){c=!!(window.history&&history.pushState&&history.replaceState),c=!1}var b=!1,c=!1;a(),this.setPage=function(a,b){this.updateState({page:a},"",b)},this.havePage=function(){return this.getState()!==!1},this.getPage=function(){var a;return this.havePage()?(a=this.getState(),a.page):1},this.getState=function(){var a,b,d;if(c){if(b=history.state,b&&b.ias)return b.ias}else if(a="#/page/"===window.location.hash.substring(0,7))return d=parseInt(window.location.hash.replace("#/page/",""),10),{page:d};return!1},this.updateState=function(a,c,d){b?this.replaceState(a,c,d):this.pushState(a,c,d)},this.pushState=function(a,d,e){var f;c?history.pushState({ias:a},d,e):(f=a.page>0?"#/page/"+a.page:"",window.location.hash=f),b=!0},this.replaceState=function(a,b,d){c?history.replaceState({ias:a},b,d):this.pushState(a,b,d)}}}(jQuery),function(a){"use strict";a(document).ready(function(){a(".article-preview").each(function(){var b=a(this).find("img").first(),c=a(this).find("iframe").first();if(b){var d=a(this).find("img").first().attr("src");b.appendTo(a(this).parents("article.post").find(".featured-image")),a("<a href='"+d+"' rel='lightbox' class='image-zoom-icon'></a>").appendTo(a(this).parents("article.post").find(".featured-image .image-zoom"))}c&&(a(this).parents("article.post").find(".image-zoom").remove(),c.appendTo(a(this).parents("article.post").find(".featured-image")))}),jQuery.ias({container:".post-list",item:".post-list_item",pagination:".pagination",next:"a.older-posts",loader:'<img src="/assets/images/loader.gif" class="loader-image"/>',triggerPageThreshold:200})})}(jQuery);
